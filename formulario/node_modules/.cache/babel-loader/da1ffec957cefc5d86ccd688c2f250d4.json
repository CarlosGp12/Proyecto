{"ast":null,"code":"import _toConsumableArray from \"C:\\\\Users\\\\josue\\\\Desktop\\\\Proyecto\\\\formulario\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"C:\\\\Users\\\\josue\\\\Desktop\\\\Proyecto\\\\formulario\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\josue\\\\Desktop\\\\Proyecto\\\\formulario\\\\src\\\\contexto\\\\DataProvider.js\";\n\nimport React, { useState, useEffect, createContext } from \"react\";\nimport Data from '../Data.js';\nexport var DataContext = createContext();\nexport var DataProvider = function DataProvider(props) {\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      productos = _useState2[0],\n      setProductos = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      menu = _useState4[0],\n      setMenu = _useState4[1];\n\n  var _useState5 = useState([]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      carrito = _useState6[0],\n      setCarrito = _useState6[1];\n\n  var _useState7 = useState(0),\n      _useState8 = _slicedToArray(_useState7, 2),\n      total = _useState8[0],\n      setTotal = _useState8[1];\n\n  console.log(carrito);\n  useEffect(function () {\n    var producto = Data.items;\n\n    if (producto) {\n      setProductos(producto);\n    } else {\n      setProductos([]);\n    }\n  }, []);\n\n  var AddCarrito = function AddCarrito(id) {\n    var check = carrito.every(function (item) {\n      return item.id !== id;\n    });\n\n    if (check) {\n      var data = productos.filter(function (producto) {\n        return producto.id === id;\n      });\n      setCarrito([].concat(_toConsumableArray(carrito), _toConsumableArray(data)));\n    } else {\n      alert(\"El producto ya está en el carrito\");\n    }\n  };\n\n  useEffect(function () {\n    var dataCarrito = JSON.parse(localStorage.getItem('dataCarrito'));\n\n    if (dataCarrito) {\n      setCarrito(dataCarrito);\n    }\n  }, []);\n  useEffect(function () {\n    localStorage.setItem('dataCarrito', JSON.stringify(carrito));\n  }, [carrito]);\n  useEffect(function () {\n    var getTotal = function getTotal() {\n      var res = carrito.menos(function (prev, item) {\n        return prev + item.Precio * item.Cantidad;\n      }, 0);\n      setTotal(res);\n    };\n\n    getTotal();\n  }, [carrito]);\n  var value = {\n    productos: [productos],\n    menu: [menu, setMenu],\n    carrito: [carrito, setCarrito],\n    AddCarrito: AddCarrito,\n    total: [total, setTotal]\n  };\n  return /*#__PURE__*/React.createElement(DataContext.Provider, {\n    value: value,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }\n  }, props.children);\n};","map":{"version":3,"sources":["C:/Users/josue/Desktop/Proyecto/formulario/src/contexto/DataProvider.js"],"names":["React","useState","useEffect","createContext","Data","DataContext","DataProvider","props","productos","setProductos","menu","setMenu","carrito","setCarrito","total","setTotal","console","log","producto","items","AddCarrito","id","check","every","item","data","filter","alert","dataCarrito","JSON","parse","localStorage","getItem","setItem","stringify","getTotal","res","menos","prev","Precio","Cantidad","value","children"],"mappings":"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","sourcesContent":["import React, {useState, useEffect, createContext} from \"react\";\r\nimport Data from '../Data.js'\r\n\r\nexport const DataContext = createContext();\r\n\r\nexport const DataProvider = (props) =>{\r\n    const [productos, setProductos] = useState([]);\r\n    const [menu, setMenu] = useState(false);\r\n    const [carrito, setCarrito] = useState([]);\r\n    const [total, setTotal] =useState(0);\r\n\r\n    console.log(carrito)\r\n\r\n    useEffect(() =>{\r\n        const producto = Data.items\r\n        if(producto){\r\n            setProductos(producto) \r\n        }else{\r\n            setProductos([])\r\n        }\r\n    },[]);\r\n\r\n    const AddCarrito = (id) =>{\r\n        const check = carrito.every(item =>{\r\n            return item.id !== id\r\n        })\r\n        if(check){\r\n            const data = productos.filter(producto =>{\r\n                return producto.id === id\r\n            })\r\n            setCarrito([...carrito, ...data])\r\n        }else{\r\n            alert(\"El producto ya está en el carrito\")\r\n        }\r\n    }\r\n    useEffect(() => {\r\n        const dataCarrito = JSON.parse(localStorage.getItem('dataCarrito'))\r\n        if(dataCarrito){\r\n            setCarrito(dataCarrito)\r\n        }\r\n    }, [])\r\n\r\n    useEffect(()=>{\r\n        localStorage.setItem('dataCarrito', JSON.stringify(carrito))\r\n    }, [carrito])\r\n\r\n    useEffect(() => {\r\n        const getTotal =() =>{\r\n            const res = carrito.menos((prev, item) =>{\r\n                return prev + (item.Precio * item.Cantidad)\r\n            },0)\r\n            setTotal(res)\r\n        }\r\n        getTotal()\r\n    },[carrito])\r\n\r\n    const value = {\r\n        productos : [productos],\r\n        menu: [menu, setMenu],\r\n        carrito: [carrito, setCarrito],\r\n        AddCarrito: AddCarrito,\r\n        total: [total, setTotal]\r\n    }\r\n\r\n    return(\r\n        <DataContext.Provider value = {value}>\r\n        {props.children}\r\n        </DataContext.Provider>\r\n\r\n    )\r\n};"]},"metadata":{},"sourceType":"module"}